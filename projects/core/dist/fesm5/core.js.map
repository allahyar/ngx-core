{"version":3,"file":"core.js","sources":["ng://core/lib/config.ts","ng://core/lib/tokens.ts","ng://core/lib/classes/query.class.ts","ng://core/lib/decorators/inject.decorator.ts","ng://core/lib/services/http-provider.service.ts","ng://core/lib/services/query.service.ts","ng://core/lib/util/helper.ts","ng://core/lib/services/ui.service.ts","ng://core/lib/util/string.ts","ng://core/lib/services/core-translate.service.ts","ng://core/lib/services/authentication.service.ts","ng://core/lib/services/app-load-service.service.ts","ng://core/lib/interceptors/core=http.interceptor.ts","ng://core/lib/core.module.ts","ng://core/lib/classes/token.class.ts","ng://core/lib/services/token.service.ts","ng://core/lib/interceptors/jwt.interceptor.ts","ng://core/lib/services/auth-guard.service.ts","ng://core/lib/auth.module.ts","ng://core/lib/services/dialog.service.ts","ng://core/lib/components/toast-template.component.ts","ng://core/lib/services/toast.service.ts","ng://core/lib/components/modal-template.component.ts","ng://core/lib/directives/ng-form.directive.ts","ng://core/lib/directives/progress-button.directive.ts","ng://core/lib/ui.module.ts","ng://core/lib/classes/base.class.ts","ng://core/lib/services/modal.service.ts","ng://core/lib/classes/modal.class.ts","ng://core/lib/services/local-storage.service.ts"],"sourcesContent":["import {NgxCoolDialogsBaseConfig} from 'ngx-cool-dialogs';\r\n\r\nexport const MODULE_CONFIG_DEFAULTS = {};\r\n\r\nexport const LOCAL_STORAGE_CONFIG_DEFAULTS = {\r\n\tprefix: 'ZarsamErp'\r\n};\r\n\r\nexport const AUTH_CONFIG_DEFAULTS = {\r\n\tloginEndPoint: '/login'\r\n};\r\n\r\nexport const DIALOG_CONFIG_DEFAULTS: NgxCoolDialogsBaseConfig = {\r\n\ttheme: 'material', // available themes: 'default' | 'material' | 'dark'\r\n\tokButtonText: 'Yes',\r\n\tcancelButtonText: 'No',\r\n\tcolor: '#8030c3',\r\n};\r\n\r\n","import {InjectionToken, Type} from '@angular/core';\r\nimport {Query} from './classes/query.class';\r\n\r\nexport const QUERY_SERVICE_TOKEN = new InjectionToken<Type<Query<any>>>('QueryService');\r\n\r\nexport const DEFAULT_LANG = new InjectionToken<string>('DefaultLang');\r\nexport const SUPPORT_LANG = new InjectionToken<string>('SupportLang');\r\n","import {Observable} from 'rxjs';\r\nimport {ServerResponse} from '../interfaces/server-response.model';\r\nimport {DataInfo} from '../interfaces/data-info.model';\r\n\r\nexport abstract class Query<T> {\r\n  abstract grid(info: DataInfo): Observable<ServerResponse<T>>;\r\n  abstract get(info: DataInfo): Observable<ServerResponse<T>>;\r\n  abstract list(info: DataInfo): Observable<ServerResponse<T>>;\r\n  abstract post(info: DataInfo): Observable<ServerResponse<T>>;\r\n  abstract delete(info: DataInfo): Observable<ServerResponse<any>>;\r\n}\r\n\r\n\r\n\r\n\r\n","import {Type, InjectionToken, InjectFlags, Injector} from '@angular/core';\r\n\r\nexport function InjectToken<T>(\r\n\ttoken: Type<T> | InjectionToken<T> | any,\r\n\tnotFoundValue: T = null,\r\n\tflags?: InjectFlags\r\n) {\r\n\treturn function(target: any, key: string) {\r\n\t\tconst prev = Object.getOwnPropertyDescriptor(target, key);\r\n\t\tconst getter = function() {\r\n\t\t\tif (this['$$$Inject_' + token.toString()]) {\r\n\t\t\t\treturn this['$$$Inject_' + token.toString()];\r\n\t\t\t}\r\n\t\t\tlet localInjector = this.injector || this['$$$_Injector'];\r\n\t\t\tif (!localInjector) {\r\n\t\t\t\tfor (const filedKey in this) {\r\n\t\t\t\t\tif (this.hasOwnProperty(filedKey)) {\r\n\t\t\t\t\t\tif (\r\n\t\t\t\t\t\t\tthis[filedKey] instanceof Injector ||\r\n\t\t\t\t\t\t\t(this[filedKey] &&\r\n\t\t\t\t\t\t\t\tthis[filedKey].constructor.name === 'Injector_')\r\n\t\t\t\t\t\t) {\r\n\t\t\t\t\t\t\tlocalInjector = this[filedKey];\r\n\t\t\t\t\t\t\tthis['$$$_Injector'] = localInjector;\r\n\t\t\t\t\t\t}\r\n\t\t\t\t\t}\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tif (!localInjector) {\r\n\t\t\t\tconsole.warn(\r\n\t\t\t\t\t'Could not find local Injector in  (' +\r\n\t\t\t\t\ttarget.constructor.name +\r\n\t\t\t\t\t'), use root injector instead!'\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tif (\r\n\t\t\t\t\tlocalInjector.constructor.name === 'StaticInjector' &&\r\n\t\t\t\t\tlocalInjector.parent\r\n\t\t\t\t) {\r\n\t\t\t\t\tlocalInjector = localInjector.parent;\r\n\t\t\t\t}\r\n\t\t\t}\r\n\t\t\tconst value = (localInjector || window['$$$_root_injector']).get(\r\n\t\t\t\ttoken,\r\n\t\t\t\tnotFoundValue,\r\n\t\t\t\tflags\r\n\t\t\t);\r\n\t\t\tthis['$$$' + token.toString()] = value;\r\n\t\t\treturn value;\r\n\t\t};\r\n\t\tObject.defineProperty(target, key, {\r\n\t\t\tget: getter,\r\n\t\t\tenumerable: prev == null ? true : prev.enumerable,\r\n\t\t\tconfigurable: prev == null ? true : prev.configurable\r\n\t\t});\r\n\t};\r\n}\r\n\r\nexport function GlobalInject<T>(\r\n\ttoken: Type<T> | InjectionToken<T> | any,\r\n\tnotFoundValue: T = null,\r\n\tflags?: InjectFlags\r\n) {\r\n\treturn function(target: any, key: string) {\r\n\t\tconst prev = Object.getOwnPropertyDescriptor(target, key);\r\n\t\tconst getter = function() {\r\n\t\t\tif (this['$$$Inject_' + token.toString()]) {\r\n\t\t\t\treturn this['$$$Inject_' + token.toString()];\r\n\t\t\t}\r\n\t\t\tconst localInjectors: any[] = this.injectors;\r\n\r\n\t\t\tif (!localInjectors) {\r\n\t\t\t\tconsole.warn(\r\n\t\t\t\t\t'Could not find local Injectors in  (' +\r\n\t\t\t\t\ttarget.constructor.name +\r\n\t\t\t\t\t')!'\r\n\t\t\t\t);\r\n\t\t\t} else {\r\n\t\t\t\tfor (let i = localInjectors.length - 1; i >= 0; --i) {\r\n\t\t\t\t\tconst injector = localInjectors[i];\r\n\t\t\t\t\tconst value = injector.get(token, notFoundValue, flags);\r\n\t\t\t\t\tthis['$$$' + token.toString()] = value;\r\n\t\t\t\t\treturn value;\r\n\t\t\t\t}\r\n\t\t\t\treturn undefined;\r\n\t\t\t}\r\n\t\t};\r\n\t\tObject.defineProperty(target, key, {\r\n\t\t\tget: getter,\r\n\t\t\tenumerable: prev == null ? true : prev.enumerable,\r\n\t\t\tconfigurable: prev == null ? true : prev.configurable\r\n\t\t});\r\n\t};\r\n}\r\n","import {Observable} from 'rxjs';\r\nimport {HttpClient, HttpEvent} from '@angular/common/http';\r\nimport {Inject, Injectable, Injector} from '@angular/core';\r\nimport {ServerResponse} from '../interfaces/server-response.model';\r\nimport {CoreModuleConfig} from '../interfaces/config.model';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class HttpProvider<T> {\r\n\r\n\tpublic _baseUrl = null;\r\n\r\n\tconstructor(\r\n\t\t@Inject('config') private config: CoreModuleConfig,\r\n\t\tprivate http: HttpClient,\r\n\t\tprivate injector: Injector) {\r\n\r\n\t\tif (!this.config.api.useInterceptor) {\r\n\t\t\tthis._baseUrl = this.config.api.baseUrl;\r\n\t\t}\r\n\r\n\t}\r\n\r\n\tget(url: string, options?: any)\r\n\t\t: Observable<any> {\r\n\t\t// this.http.get<any>(data.url);\r\n\t\t// return new Observable((observer) => {\r\n\t\t// \tobserver.next({success: true});\r\n\t\t// \tobserver.complete();\r\n\t\t// });\r\n\t\treturn this.http.get<ServerResponse<T>>(this._baseUrl + url, options);\r\n\t}\r\n\r\n\tpost(url: string, body: any, options?: any): Observable<any> {\r\n\t\treturn this.http.post(this._baseUrl + url, body, options);\r\n\t}\r\n\r\n}\r\n","import {Injectable, Injector} from '@angular/core';\r\nimport {Query} from '../classes/query.class';\r\nimport {Observable} from 'rxjs';\r\nimport {DataInfo} from '../interfaces/data-info.model';\r\nimport {InjectToken} from '../decorators/inject.decorator';\r\nimport {HttpProvider} from './http-provider.service';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class QueryService<T> extends Query<T> {\r\n\r\n\t@InjectToken(HttpProvider) http: HttpProvider<T>;\r\n\r\n\tconstructor(private injector: Injector) {\r\n\t\tsuper();\r\n\t}\r\n\r\n\tdelete(info: DataInfo): Observable<T> {\r\n\t\treturn this.http.get('dadad');\r\n\t}\r\n\r\n\tget(info: DataInfo): Observable<T> {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tlist(info: DataInfo): Observable<T> {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tpost(info: DataInfo): Observable<T> {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n\tgrid(info: DataInfo): Observable<T> {\r\n\t\treturn undefined;\r\n\t}\r\n\r\n}\r\n","import {HttpClient} from '@angular/common/http';\r\nimport {TranslateHttpLoader} from '@ngx-translate/http-loader';\r\nimport {TranslateLoader, TranslateModuleConfig} from '@ngx-translate/core';\r\nimport {AppLoadService} from '../services/app-load-service.service';\r\n\r\n// required for AOT compilation\r\nexport function HttpLoaderFactory(http: HttpClient) {\r\n\treturn new TranslateHttpLoader(http, './assets/i18n/', '.json');\r\n}\r\n\r\n// ngx-translate and the loader module\r\nexport const translateModuleOptions: TranslateModuleConfig = {\r\n\tloader: {\r\n\t\tprovide: TranslateLoader,\r\n\t\tuseFactory: (HttpLoaderFactory),\r\n\t\tdeps: [HttpClient]\r\n\t}\r\n};\r\n\r\nexport function init_app(appLoadService: AppLoadService) {\r\n\treturn () => appLoadService.initializeApp();\r\n}\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {DOCUMENT} from '@angular/common';\r\nimport {InjectToken} from '../decorators/inject.decorator';\r\n\r\n@Injectable()\r\nexport class UiService {\r\n\r\n  @InjectToken(DOCUMENT)\r\n  document: Document;\r\n\r\n  constructor() {\r\n  }\r\n\r\n  setDirection(dir: any) {\r\n    this.document.dir = dir;\r\n  }\r\n\r\n  get direction(): any {\r\n    return this.document.dir;\r\n  }\r\n\r\n\r\n}\r\n","export function isString(obj: any): boolean {\r\n\treturn typeof obj === 'string';\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {TranslateService} from '@ngx-translate/core';\r\nimport {isString} from '../util/string';\r\nimport {BehaviorSubject, Observable} from 'rxjs';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class CoreTranslateService {\r\n\r\n\t_isLoaded = new BehaviorSubject(false);\r\n\r\n\tconstructor(private _translateService: TranslateService) {\r\n\t}\r\n\r\n\taddLangs(langs: string[]): void {\r\n\t\treturn this._translateService.addLangs(langs);\r\n\t}\r\n\r\n\tuse(lang: string): Observable<any> {\r\n\t\treturn this._translateService.use(lang);\r\n\t}\r\n\r\n\tsetDefaultLang(lang: string): void {\r\n\t\tthis._translateService.setDefaultLang(lang);\r\n\t}\r\n\r\n\tinstant(\r\n\t\tkey: string | Array<string>,\r\n\t\tinterpolateParams?: Object\r\n\t): string | any {\r\n\t\tif (isString(key) && key.indexOf(':') > 0) {\r\n\t\t\tconst items = (key as string).split(':');\r\n\t\t\treturn items\r\n\t\t\t\t.map(item => this._translateService.instant(item, interpolateParams))\r\n\t\t\t\t.join(' ');\r\n\t\t}\r\n\r\n\t\treturn this._translateService.instant(key, interpolateParams);\r\n\t}\r\n\r\n\tisCompleted() {\r\n\t\tthis._isLoaded.next(true);\r\n\t}\r\n\r\n\tget loaded(): Observable<boolean> {\r\n\t\treturn this._isLoaded.asObservable();\r\n\t}\r\n\r\n}\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {HttpProvider} from './http-provider.service';\r\nimport {Observable, ReplaySubject} from 'rxjs';\r\nimport {InjectToken} from '../decorators/inject.decorator';\r\nimport {AuthModuleConfig} from '../interfaces/config.model';\r\nimport {UserResponse} from '../interfaces/auth.model';\r\nimport {Router} from '@angular/router';\r\nimport {map} from 'rxjs/operators';\r\n\r\n@Injectable()\r\nexport class AuthenticationService {\r\n\r\n\t@InjectToken(HttpProvider) http: HttpProvider<UserResponse>;\r\n\r\n\tprivate _currentUserSubject = new ReplaySubject<UserResponse>(1);\r\n\tprivate _currentUserValue: UserResponse;\r\n\r\n\tconstructor(@Inject('authConfig') private config: AuthModuleConfig,\r\n\t\t\t\tprivate router: Router) {\r\n\t}\r\n\r\n\tget currentUserValue(): UserResponse {\r\n\t\treturn this._currentUserValue;\r\n\t}\r\n\r\n\tget currentUser(): Observable<any> {\r\n\t\treturn this._currentUserSubject.asObservable();\r\n\t}\r\n\r\n\tsetting(prop: string): any {\r\n\t\tif (prop.indexOf('.') > 0) {\r\n\t\t\tconst split = prop.split('.');\r\n\t\t\t// return this.currentUserValue.setting.bind(split);\r\n\t\t}\r\n\t\treturn this.currentUserValue.setting[prop];\r\n\t}\r\n\r\n\tlogin(username: string, password: string) {\r\n\r\n\t}\r\n\r\n\tverifyToken(token?: string): Observable<boolean> {\r\n\t\treturn this.http.get(this.config.tokenVerifyEndPoint).pipe(map(res => {\r\n\t\t\tif (res.success) {\r\n\t\t\t\tconsole.log(res.success);\r\n\t\t\t\tthis._currentUserValue = res.result;\r\n\t\t\t\tthis._currentUserSubject.next(res.result);\r\n\t\t\t\tthis.router.navigateByUrl(this.config.loginEndPoint);\r\n\t\t\t\treturn true;\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}));\r\n\t}\r\n\r\n\tloggedIn(): boolean {\r\n\t\treturn this._currentUserValue !== null;\r\n\t}\r\n\r\n\tlogout(endPoint: string): Promise<boolean> {\r\n\t\treturn new Promise<boolean>((resolve, reject) => {\r\n\t\t\tthis.http.get(endPoint || this.config.logoutEndPoint).subscribe(res => {\r\n\t\t\t\tthis._currentUserSubject.next(null);\r\n\t\t\t\tthis._currentUserValue = null;\r\n\t\t\t\tthis.router.navigateByUrl(this.config.guards.loggedOutGuard.redirectUrl);\r\n\t\t\t\tresolve(true);\r\n\t\t\t}, (err) => reject);\r\n\t\t});\r\n\t}\r\n}\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {CoreTranslateService} from './core-translate.service';\r\nimport {AuthenticationService} from './authentication.service';\r\nimport {InjectToken} from '../decorators/inject.decorator';\r\nimport {AuthModuleConfig} from '../interfaces/config.model';\r\n\r\n@Injectable()\r\nexport class AppLoadService {\r\n\r\n\t@InjectToken(AuthenticationService) _authService: AuthenticationService;\r\n\r\n\tconstructor(private _translateService: CoreTranslateService,\r\n\t\t\t\t@Inject('authConfig') private config: AuthModuleConfig) {\r\n\t}\r\n\r\n\tinitializeApp(): Promise<any> {\r\n\t\treturn new Promise((resolve, reject) => {\r\n\t\t\tthis._translateService.loaded.subscribe(completed => {\r\n\t\t\t\tif (completed) {\r\n\t\t\t\t\tif (!this.config.useTokenVerify) {\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t}\r\n\t\t\t\t\tthis._authService.verifyToken().subscribe(res => {\r\n\t\t\t\t\t\tresolve();\r\n\t\t\t\t\t\treturn true;\r\n\t\t\t\t\t});\r\n\t\t\t\t}\r\n\t\t\t});\r\n\t\t});\r\n\t}\r\n\r\n}\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {HttpEvent, HttpHandler, HttpInterceptor, HttpRequest} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {CoreModuleConfig} from '../interfaces/config.model';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class CoreHttpInterceptor implements HttpInterceptor {\r\n\r\n\tconstructor(@Inject('config') private config: CoreModuleConfig) {\r\n\t}\r\n\r\n\tintercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n\r\n\t\tlet changeHeader;\r\n\t\tif (this.config.api.useInterceptor) {\r\n\t\t\tchangeHeader = {url: `${this.config.api.baseUrl}${req.url}`};\r\n\t\t}\r\n\t\tconst apiReq = req.clone(changeHeader);\r\n\t\treturn next.handle(apiReq);\r\n\r\n\t}\r\n\r\n}\r\n","import {APP_INITIALIZER, Inject, Injector, ModuleWithProviders, NgModule} from '@angular/core';\r\nimport {Query} from './classes/query.class';\r\nimport {QueryService} from './services/query.service';\r\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\r\nimport {CoreModuleConfig} from './interfaces/config.model';\r\nimport {DEFAULT_LANG, QUERY_SERVICE_TOKEN, SUPPORT_LANG} from './tokens';\r\nimport {InjectToken} from './decorators/inject.decorator';\r\nimport {TranslateModule} from '@ngx-translate/core';\r\nimport {init_app, translateModuleOptions} from './util/helper';\r\nimport {UiService} from './services/ui.service';\r\nimport {CoreTranslateService} from './services/core-translate.service';\r\nimport {AppLoadService} from './services/app-load-service.service';\r\nimport {CoreHttpInterceptor} from './interceptors/core=http.interceptor';\r\n\r\n\r\n@NgModule({\r\n\tdeclarations: [],\r\n\timports: [\r\n\t\tHttpClientModule,\r\n\t\tTranslateModule.forRoot(translateModuleOptions)\r\n\t],\r\n\texports: [TranslateModule]\r\n})\r\nexport class CoreModule {\r\n\r\n\t@InjectToken(CoreTranslateService)\r\n\t_translateService: CoreTranslateService;\r\n\r\n\t@InjectToken(UiService)\r\n\t_uiService: UiService;\r\n\r\n\tconstructor(@Inject(DEFAULT_LANG) defaultLang: string,\r\n\t\t\t\t@Inject(SUPPORT_LANG) supportLang: string[],\r\n\t\t\t\tinjector: Injector) {\r\n\r\n\t\twindow['$$$_root_injector'] = injector;\r\n\r\n\t\tthis._translateService.addLangs(supportLang);\r\n\t\tthis._translateService.setDefaultLang(defaultLang);\r\n\t\tthis._translateService.use(defaultLang).subscribe(res => {\r\n\r\n\t\t\tconst dir = defaultLang === 'fa' ? 'rtl' : 'ltr';\r\n\t\t\tthis._uiService.setDirection(dir);\r\n\t\t\tthis._translateService.isCompleted();\r\n\r\n\t\t});\r\n\r\n\r\n\t}\r\n\r\n\r\n\tstatic forRoot(config?: CoreModuleConfig): ModuleWithProviders {\r\n\r\n\t\treturn {\r\n\t\t\tngModule: CoreModule,\r\n\t\t\tproviders: [\r\n\t\t\t\tUiService,\r\n\t\t\t\tCoreTranslateService,\r\n\t\t\t\tAppLoadService,\r\n\t\t\t\t{provide: APP_INITIALIZER, useFactory: init_app, deps: [AppLoadService], multi: true},\r\n\t\t\t\t{provide: 'config', useValue: config},\r\n\t\t\t\t{\r\n\t\t\t\t\tprovide: HTTP_INTERCEPTORS,\r\n\t\t\t\t\tuseClass: CoreHttpInterceptor,\r\n\t\t\t\t\tmulti: true,\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tprovide: Query,\r\n\t\t\t\t\tuseClass: QueryService\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tprovide: QUERY_SERVICE_TOKEN,\r\n\t\t\t\t\tuseValue: QueryService\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tprovide: DEFAULT_LANG,\r\n\t\t\t\t\tuseValue: (config && config.language.default) || 'en'\r\n\t\t\t\t},\r\n\t\t\t\t{\r\n\t\t\t\t\tprovide: SUPPORT_LANG,\r\n\t\t\t\t\tuseValue: (config && config.language.support) || ['en', 'fa']\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t}\r\n}\r\n","declare function escape(s: string): string;\r\n\r\nexport class TokenError extends Error {\r\n\r\n\tname = 'TokenError';\r\n\r\n\tconstructor(message: string) {\r\n\t\tsuper(message);\r\n\t}\r\n}\r\n\r\nexport class Token {\r\n\tconstructor(public token: string) {\r\n\t\tif (this.token != null && this.isExpired()) {\r\n\t\t\ttoken = null;\r\n\t\t}\r\n\t}\r\n\r\n\tprivate decodeBase64(str: string): string {\r\n\t\tlet output = str.replace(/-/g, '+').replace(/_/g, '/');\r\n\t\tswitch (output.length % 4) {\r\n\t\t\tcase 0: {\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 2: {\r\n\t\t\t\toutput += '==';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tcase 3: {\r\n\t\t\t\toutput += '=';\r\n\t\t\t\tbreak;\r\n\t\t\t}\r\n\t\t\tdefault: {\r\n\t\t\t\tthrow new TokenError('Illegal base64url string!');\r\n\t\t\t}\r\n\t\t}\r\n\r\n\t\treturn decodeURIComponent(escape(typeof window === 'undefined' ? atob(output) : window.atob(output)));\r\n\t}\r\n\r\n\tpublic decodeToken(): any {\r\n\t\tconst parts = this.token.split('.');\r\n\r\n\t\tif (parts.length !== 3) {\r\n\t\t\tthrow new TokenError('A JWT Token must have 3 parts!');\r\n\t\t}\r\n\r\n\t\tconst decoded = this.decodeBase64(parts[1]);\r\n\t\tif (!decoded) {\r\n\t\t\tthrow new TokenError('Cannot decode the token!');\r\n\t\t}\r\n\r\n\t\treturn JSON.parse(decoded);\r\n\t}\r\n\r\n\tpublic getExpirationDate(): Date {\r\n\t\tconst decoded = this.decodeToken();\r\n\r\n\t\tif (!decoded.hasOwnProperty('exp')) {\r\n\t\t\treturn new Date();\r\n\t\t}\r\n\r\n\t\tconst date = new Date(0);\r\n\t\tdate.setUTCSeconds(decoded.exp);\r\n\r\n\t\treturn date;\r\n\t}\r\n\r\n\tpublic isExpired(offsetSeconds: number = 0): boolean {\r\n\t\tconst date = this.getExpirationDate();\r\n\r\n\t\tif (date.getSeconds() === new Date().getSeconds()) {\r\n\t\t\treturn false;\r\n\t\t}\r\n\r\n\t\treturn !(date.valueOf() > (new Date().valueOf() + (offsetSeconds * 1000)));\r\n\t}\r\n}\r\n","import {Injectable} from '@angular/core';\r\nimport {BehaviorSubject, Observable} from 'rxjs';\r\nimport {Token} from '../classes/token.class';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class TokenService {\r\n\r\n  private _token: BehaviorSubject<Token>;\r\n\r\n  constructor() {\r\n    this._token = new BehaviorSubject(new Token(localStorage.getItem('satellizer_token')));\r\n  }\r\n\r\n  /**\r\n   * Get the current token.\r\n   */\r\n  getToken(): Token {\r\n    const token = this._token.getValue();\r\n    return (token && token.token) ? token : null;\r\n  }\r\n\r\n  /**\r\n   * Returns an stream of tokens.\r\n   */\r\n  getTokenStream(): Observable<Token> {\r\n    return this._token.asObservable();\r\n  }\r\n\r\n  /**\r\n   * Update the current token.\r\n   */\r\n  setToken(token: string) {\r\n    this._token.next(new Token(token));\r\n  }\r\n\r\n  /**\r\n   * Remove the current token.\r\n   */\r\n  removeToken() {\r\n    this._token.next(null);\r\n  }\r\n\r\n}\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {TokenService} from '../services/token.service';\r\nimport {HttpEvent, HttpHandler, HttpRequest} from '@angular/common/http';\r\nimport {Observable} from 'rxjs';\r\nimport {Token} from '../classes/token.class';\r\nimport {AuthModuleConfig} from '../interfaces/config.model';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class JwtInterceptor {\r\n\r\n\tconstructor(@Inject('authConfig') private config: AuthModuleConfig,\r\n\t\t\t\tprivate _tokenService: TokenService) {\r\n\t}\r\n\r\n\tintercept(req: HttpRequest<any>, next: HttpHandler): Observable<HttpEvent<any>> {\r\n\r\n\t\tconst token: Token = this._tokenService.getToken();\r\n\r\n\t\tif (token && !token.isExpired()) {\r\n\t\t\t// {headers: req.headers.set(this.config.headerName, this.config.headerPrefix + ' ' + token.token)}\r\n\t\t\treq = req.clone({\r\n\t\t\t\tsetHeaders: {Authorization: `${this.config.headerPrefix} ${token.token}`}\r\n\t\t\t});\r\n\t\t}\r\n\r\n\t\treturn next.handle(req);\r\n\t}\r\n\r\n}\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {CanActivate, Router} from '@angular/router';\r\nimport {TokenService} from './token.service';\r\nimport {InjectToken} from '../decorators/inject.decorator';\r\nimport {AuthenticationService} from './authentication.service';\r\nimport {AuthModuleConfig} from '../interfaces/config.model';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class LoggedInAuth implements CanActivate {\r\n\r\n\r\n\t@InjectToken(AuthenticationService)\r\n\t_authenticationService: AuthenticationService;\r\n\r\n\t@InjectToken(TokenService)\r\n\t_tokenService: TokenService;\r\n\r\n\t@InjectToken(Router)\r\n\t_router: Router;\r\n\r\n\tconstructor(@Inject('authConfig') private config: AuthModuleConfig) {\r\n\t}\r\n\r\n\tcanActivate() {\r\n\r\n\t\tconst token = this._tokenService.getToken();\r\n\r\n\t\tif (token && token.token) {\r\n\t\t\treturn !token.isExpired();\r\n\t\t}\r\n\r\n\t\tlet redirectUrl = this.config.guards.loggedInGuard.redirectUrl;\r\n\t\tif (redirectUrl) {\r\n\t\t\treturn this._router.navigate([redirectUrl]);\r\n\t\t}\r\n\t\treturn false;\r\n\r\n\t}\r\n}\r\n\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class LoggedOutAuth implements CanActivate {\r\n\r\n\t@InjectToken(AuthenticationService)\r\n\t_authenticationService: AuthenticationService;\r\n\r\n\t@InjectToken(TokenService)\r\n\t_tokenService: TokenService;\r\n\r\n\t@InjectToken(Router)\r\n\t_router: Router;\r\n\r\n\tconstructor(@Inject('authConfig') private config: AuthModuleConfig) {\r\n\t}\r\n\r\n\tcanActivate() {\r\n\r\n\t\tconst token = this._tokenService.getToken();\r\n\r\n\t\tif (token && token.token && !token.isExpired()) {\r\n\t\t\tconst redirectUrl = this.config.guards.loggedOutGuard.redirectUrl;\r\n\t\t\tif (redirectUrl) {\r\n\t\t\t\treturn this._router.navigate([redirectUrl]);\r\n\t\t\t}\r\n\t\t\treturn false;\r\n\t\t}\r\n\t\treturn true;\r\n\t}\r\n}\r\n","import {ModuleWithProviders, NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {HTTP_INTERCEPTORS, HttpClientModule} from '@angular/common/http';\r\nimport {JwtInterceptor} from './interceptors/jwt.interceptor';\r\nimport {RouterModule} from '@angular/router';\r\nimport {LoggedInAuth, LoggedOutAuth} from './services/auth-guard.service';\r\nimport {AuthenticationService} from './services/authentication.service';\r\nimport {AuthModuleConfig} from './interfaces/config.model';\r\n\r\n\r\n@NgModule({\r\n\tdeclarations: [],\r\n\timports: [CommonModule, HttpClientModule, RouterModule]\r\n})\r\nexport class AuthModule {\r\n\r\n\tstatic forRoot(config?: AuthModuleConfig): ModuleWithProviders {\r\n\r\n\t\treturn {\r\n\t\t\tngModule: AuthModule,\r\n\t\t\tproviders: [\r\n\t\t\t\t{provide: 'authConfig', useValue: config},\r\n\t\t\t\tAuthenticationService, LoggedInAuth, LoggedOutAuth,\r\n\t\t\t\t{\r\n\t\t\t\t\tprovide: HTTP_INTERCEPTORS,\r\n\t\t\t\t\tuseClass: JwtInterceptor,\r\n\t\t\t\t\tmulti: true\r\n\t\t\t\t}\r\n\t\t\t]\r\n\t\t};\r\n\t}\r\n}\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {NgxCoolDialogResult, NgxCoolDialogsLocalConfig, NgxCoolDialogsService} from 'ngx-cool-dialogs';\r\nimport {UiModuleConfig} from '../interfaces/config.model';\r\nimport {InjectToken} from '../decorators/inject.decorator';\r\nimport {CoreTranslateService} from './core-translate.service';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class DialogService {\r\n\r\n\t@InjectToken(NgxCoolDialogsService)\r\n\t_dialogService: NgxCoolDialogsService;\r\n\r\n\tprivate _config: NgxCoolDialogsLocalConfig;\r\n\r\n\tconstructor(@Inject('uiConfig') private config: UiModuleConfig,\r\n\t\t\t\tprivate _translateService: CoreTranslateService) {\r\n\t\tthis._translateService.loaded.subscribe(res => {\r\n\t\t\tif (res) {\r\n\t\t\t\tconsole.log('asasas');\r\n\t\t\t}\r\n\t\t});\r\n\t\tthis.reConfig();\r\n\r\n\t}\r\n\r\n\tprompt(prompt: string): NgxCoolDialogResult {\r\n\t\tprompt = this._translateService.instant(prompt);\r\n\t\treturn this._dialogService.prompt(prompt, this._config);\r\n\t}\r\n\r\n\tconfirm(message: string) {\r\n\t\tmessage = this._translateService.instant(message);\r\n\t\treturn this._dialogService.confirm(message, this._config);\r\n\t}\r\n\r\n\r\n\talert(message: string) {\r\n\t\treturn this._dialogService.alert(message, this._config);\r\n\t}\r\n\r\n\treConfig() {\r\n\r\n\t\tconst {theme, defaultText, cancelButtonText, okButtonText, color} = this.config.dialog;\r\n\t\t// console.log(theme);\r\n\r\n\t\tthis._config = {\r\n\t\t\ttheme,\r\n\t\t\tcolor,\r\n\t\t\tdefaultText: this._translateService.instant(defaultText),\r\n\t\t\tcancelButtonText: this._translateService.instant(cancelButtonText),\r\n\t\t\tokButtonText: this._translateService.instant(okButtonText),\r\n\t\t};\r\n\r\n\t}\r\n}\r\n","import {Component, Input, OnInit} from '@angular/core';\r\nimport {Toast} from 'ngx-toast-notifications';\r\n\r\n@Component({\r\n\tselector: 'lib-toast-template',\r\n\ttemplate: `\r\n\t\t<div class=\"toast-container\">\r\n\t\t\t<div class=\"toast-icon\">\r\n\t\t\t\t\r\n\t\t\t</div>\r\n\t\t\t<div class=\"toast-message\">\r\n\t\t\t\t<span class=\"msg-caption\">\r\n\t\t\t\t\t{{toast.caption}}\r\n\t\t\t\t</span>\r\n\t\t\t\t<span class=\"msg-text\">\r\n\t\t\t\t\t{{toast.text}}\r\n\t\t\t\t</span>\r\n\t\t\t</div>\r\n\t\t</div>\r\n\t`,\r\n\tstyleUrls: ['./toast-template.component.scss']\r\n})\r\nexport class ToastTemplateComponent {\r\n\r\n\t@Input() toast: Toast;\r\n\r\n}\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {CoreTranslateService} from './core-translate.service';\r\nimport {UiModuleConfig} from '../interfaces/config.model';\r\nimport {Toast, Toaster} from 'ngx-toast-notifications';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class ToastService {\r\n\r\n\tconstructor(private _translateService: CoreTranslateService,\r\n\t\t\t\tprivate _toast: Toaster,\r\n\t\t\t\t@Inject('uiConfig') private config: UiModuleConfig) {\r\n\t}\r\n\r\n\tsuccess(text: string, replace?: Object, duration?: number): Toast {\r\n\r\n\t\tduration = duration || this.config.toast.duration;\r\n\t\tconst caption = this._translateService.instant('GLOBAL.OK_TITLE', replace);\r\n\t\ttext = this._translateService.instant(text, replace);\r\n\r\n\t\treturn this._toast.open({text, type: 'success', caption, duration});\r\n\t}\r\n\r\n\twarning(text: string, replace?: Object, duration?: number): Toast {\r\n\r\n\t\tduration = duration || this.config.toast.duration;\r\n\t\tconst caption = this._translateService.instant('GLOBAL.OK_TITLE', replace);\r\n\t\ttext = this._translateService.instant(text, replace);\r\n\r\n\t\treturn this._toast.open({text, type: 'warning', caption, duration});\r\n\t}\r\n\r\n\terror(text: string, replace?: Object, duration?: number): Toast {\r\n\r\n\t\tduration = duration || this.config.toast.duration;\r\n\t\tconst caption = this._translateService.instant('GLOBAL.ERROR_TITLE', replace);\r\n\t\ttext = this._translateService.instant(text, replace);\r\n\r\n\t\treturn this._toast.open({text, type: 'danger', caption, duration});\r\n\t}\r\n\r\n\tinfo(text: string, replace?: Object, duration?: number): Toast {\r\n\r\n\t\tduration = duration || this.config.toast.duration;\r\n\t\tconst caption = this._translateService.instant('GLOBAL.INFO_TITLE', replace);\r\n\t\ttext = this._translateService.instant(text, replace);\r\n\r\n\t\treturn this._toast.open({text, type: 'info', caption, duration});\r\n\t}\r\n\r\n}\r\n","import {\r\n\tComponent,\r\n\tComponentFactoryResolver,\r\n\tComponentRef,\r\n\tInput,\r\n\tOnDestroy,\r\n\tOnInit,\r\n\tViewChild,\r\n\tViewContainerRef\r\n} from '@angular/core';\r\nimport {BsModalRef} from 'ngx-bootstrap';\r\nimport {NgForm} from '@angular/forms';\r\nimport {Subject, Subscription} from 'rxjs';\r\n\r\n@Component({\r\n\ttemplate: `\r\n\t\t<div class=\"modal-header\">\r\n\t\t\t<h5 class=\"modal-title\">{{title}}</h5>\r\n\t\t\t<button type=\"button\" class=\"close\" (click)=\"onHide()\">\r\n\t\t\t\t<span aria-hidden=\"true\">&times;</span>\r\n\t\t\t</button>\r\n\t\t</div>\r\n\t\t<div class=\"modal-body\">\r\n\t\t\t<form #f=\"ngForm\">\r\n\t\t\t\t<ng-container #container libNgForm></ng-container>\r\n\t\t\t\t<button type=\"submit\" class=\"btn btn-success mr-2\" *ngIf=\"loading\"\r\n\t\t\t\t\t\t[progress]=\"promise\"\r\n\t\t\t\t\t\t[disabled]=\"f.invalid\"\r\n\t\t\t\t\t\t(click)=\"onSave()\">\r\n\t\t\t\t\tSave\r\n\t\t\t\t</button>\r\n\t\t\t\t<button type=\"submit\" class=\"btn btn-success\" (click)=\"onClose()\">\r\n\t\t\t\t\tClose\r\n\t\t\t\t</button>\r\n\t\t\t</form>\r\n\r\n\t\t</div>\r\n\t`,\r\n\tstyleUrls: ['./modal-template.component.css']\r\n})\r\nexport class ModalTemplateComponent implements OnInit, OnDestroy {\r\n\r\n\t@ViewChild('f', {static: true}) form: NgForm;\r\n\tpublic onSubmit: Subject<boolean>;\r\n\ttitle: string;\r\n\ttype: any;\r\n\tdata: any;\r\n\r\n\tcomponent: any;\r\n\tcomponentRef: ComponentRef<any>;\r\n\r\n\tloading = false;\r\n\tpromise: Subscription;\r\n\r\n\t@Input() set componentType(c: any) {\r\n\t\tthis.component = c;\r\n\t\tthis.onSubmit = new Subject();\r\n\t\tthis.renderContent();\r\n\t}\r\n\r\n\t@ViewChild('container', {\r\n\t\tread: ViewContainerRef,\r\n\t\tstatic: true\r\n\t}) container: ViewContainerRef;\r\n\r\n\tconstructor(private modalRef: BsModalRef) {\r\n\t}\r\n\r\n\r\n\trenderContent() {\r\n\t\tthis.container.clear();\r\n\t\tconst injector = this.container.injector;\r\n\t\tconst cfr = injector.get(ComponentFactoryResolver);\r\n\t\tconst componentFactory = cfr.resolveComponentFactory(this.component);\r\n\t\tconst componentRef = this.container.createComponent<any>(componentFactory);\r\n\t\tcomponentRef.instance.form = this.form;\r\n\t\tthis.componentRef = componentRef;\r\n\t\tthis.loading = true;\r\n\t}\r\n\r\n\tngOnInit() {\r\n\t}\r\n\r\n\tngOnDestroy() {\r\n\t\tif (this.componentRef) {\r\n\t\t\tthis.componentRef.destroy();\r\n\t\t}\r\n\t}\r\n\r\n\r\n\tonSave() {\r\n\r\n\t\tconst resolveModalState = () => {\r\n\t\t\tthis.onSubmit.next(true);\r\n\t\t\tthis.modalRef.hide();\r\n\t\t};\r\n\r\n\t\tthis.promise = this.cri.onSave(this.form.value);\r\n\t\tconst isSubscription: boolean = this.promise instanceof Subscription;\r\n\t\tif (isSubscription) {\r\n\t\t\tconst promise = new Promise((resolve) => {\r\n\t\t\t\t(this.promise as Subscription).add(resolve);\r\n\t\t\t});\r\n\t\t\tif (promise.finally) {\r\n\t\t\t\tpromise.finally(resolveModalState);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\tonClose() {\r\n\t\tthis.onSubmit.next(false);\r\n\t\tthis.modalRef.hide();\r\n\t}\r\n\r\n\tonHide() {\r\n\t\tthis.modalRef.hide();\r\n\t}\r\n\r\n\tget cri(): any {\r\n\t\treturn this.componentRef.instance;\r\n\t}\r\n}\r\n","import {Directive, forwardRef} from '@angular/core';\r\nimport {ControlContainer, NgForm} from '@angular/forms';\r\n\r\nexport const formDirectiveProvider: any = {\r\n\tprovide: ControlContainer,\r\n\tuseExisting: forwardRef(() => NgForm)\r\n};\r\n\r\n@Directive({\r\n\tselector: '[libNgForm]',\r\n\tproviders: [formDirectiveProvider],\r\n\texportAs: 'ngForm'\r\n})\r\nexport class NgFormDirective {\r\n\r\n\tconstructor() {\r\n\t}\r\n\r\n}\r\n","import {Directive, ElementRef, HostListener, Input} from '@angular/core';\r\nimport {Subscription} from 'rxjs';\r\n\r\n@Directive({\r\n  selector: '[progress]'\r\n})\r\nexport class ProgressButtonDirective {\r\n\r\n\telement: HTMLElement;\r\n\tpromise: any;\r\n\tisPromiseDone = false;\r\n\r\n\tconstructor(el: ElementRef) {\r\n\t\tthis.element = el.nativeElement;\r\n\t}\r\n\r\n\t@Input()\r\n\tset progress(value: Subscription) {\r\n\t\tconst isSubscription: boolean = value instanceof Subscription;\r\n\t\tif (isSubscription) {\r\n\t\t\tthis.promise = new Promise((resolve) => {\r\n\t\t\t\t(value as Subscription).add(resolve);\r\n\t\t\t});\r\n\t\t\tthis.initPromiseHandler();\r\n\t\t}\r\n\t}\r\n\r\n\tdisabled() {\r\n\t\tthis.element.setAttribute('disabled', 'disabled');\r\n\t}\r\n\r\n\tenabled() {\r\n\t\tthis.element.removeAttribute('disabled');\r\n\t}\r\n\r\n\tinitPromiseHandler() {\r\n\t\tif (this.element && this.promise) {\r\n\t\t\tthis.disabled();\r\n\t\t\tconst promise = this.promise;\r\n\r\n\t\t\tconst resolveLoadingState = () => {\r\n\t\t\t\tthis.isPromiseDone = true;\r\n\t\t\t\tif (this.isPromiseDone) {\r\n\t\t\t\t\tthis.enabled();\r\n\t\t\t\t}\r\n\t\t\t};\r\n\r\n\t\t\tif (promise.finally) {\r\n\t\t\t\tpromise.finally(resolveLoadingState);\r\n\t\t\t} else {\r\n\t\t\t\tpromise\r\n\t\t\t\t\t.then(resolveLoadingState)\r\n\t\t\t\t\t.catch(resolveLoadingState);\r\n\t\t\t}\r\n\t\t}\r\n\t}\r\n\r\n\r\n\t@HostListener('click')\r\n\thandleButton() {\r\n\t\t// some code\r\n\t}\r\n\r\n}\r\n","import {ModuleWithProviders, NgModule} from '@angular/core';\r\nimport {CommonModule} from '@angular/common';\r\nimport {NgxCoolDialogsModule} from 'ngx-cool-dialogs';\r\nimport {UiModuleConfig} from './interfaces/config.model';\r\nimport {BrowserAnimationsModule} from '@angular/platform-browser/animations';\r\nimport {DIALOG_CONFIG_DEFAULTS} from './config';\r\nimport {DialogService} from './services/dialog.service';\r\nimport {ToastNotificationsModule} from 'ngx-toast-notifications';\r\nimport {ToastTemplateComponent} from './components/toast-template.component';\r\nimport {ToastService} from './services/toast.service';\r\nimport {NgbDatepickerModule} from '@ng-bootstrap/ng-bootstrap';\r\nimport {BsModalRef, ModalModule} from 'ngx-bootstrap';\r\nimport {ModalTemplateComponent} from './components/modal-template.component';\r\nimport {FormsModule, ReactiveFormsModule} from '@angular/forms';\r\nimport {NgFormDirective} from './directives/ng-form.directive';\r\nimport {ProgressButtonDirective} from './directives/progress-button.directive';\r\n\r\n\r\n@NgModule({\r\n\tdeclarations: [\r\n\t\tModalTemplateComponent,\r\n\t\tToastTemplateComponent,\r\n\t\tNgFormDirective,\r\n\t\tProgressButtonDirective\r\n\t],\r\n\timports: [\r\n\t\tBrowserAnimationsModule,\r\n\t\tNgxCoolDialogsModule.forRoot(DIALOG_CONFIG_DEFAULTS),\r\n\t\tToastNotificationsModule.forRoot({component: ToastTemplateComponent}),\r\n\t\tNgbDatepickerModule,\r\n\t\tModalModule.forRoot(),\r\n\t\tCommonModule,\r\n\t\tFormsModule,\r\n\t\tReactiveFormsModule\r\n\t],\r\n\tentryComponents: [\r\n\t\tModalTemplateComponent,\r\n\t\tToastTemplateComponent\r\n\t]\r\n})\r\nexport class UIModule {\r\n\r\n\tstatic forRoot(config: UiModuleConfig): ModuleWithProviders {\r\n\r\n\t\treturn {\r\n\t\t\tngModule: UIModule,\r\n\t\t\tproviders: [\r\n\t\t\t\t{provide: 'uiConfig', useValue: config},\r\n\t\t\t\tDialogService,\r\n\t\t\t\tToastService,\r\n\t\t\t\tBsModalRef\r\n\t\t\t]\r\n\t\t};\r\n\t}\r\n}\r\n\r\n","import {OnDestroy, OnInit} from '@angular/core';\r\n\r\nexport abstract class Base implements OnInit, OnDestroy {\r\n\r\n\tisAlive = true;\r\n\r\n\tngOnInit(): void {\r\n\t}\r\n\r\n\t// .pipe(takeWhile(x => this.isAlive))\r\n\r\n\tngOnDestroy(): void {\r\n\t\tthis.isAlive = false;\r\n\t}\r\n}\r\n","import {\r\n\tComponentFactory,\r\n\tComponentFactoryResolver,\r\n\tComponentRef,\r\n\tInject,\r\n\tInjectable,\r\n\tInjector, ViewContainerRef\r\n} from '@angular/core';\r\nimport {BsModalRef, BsModalService} from 'ngx-bootstrap';\r\nimport {UiModuleConfig} from '../interfaces/config.model';\r\nimport {ModalTemplateComponent} from '../components/modal-template.component';\r\nimport {BehaviorSubject, ReplaySubject, Subject} from 'rxjs';\r\n\r\n@Injectable({\r\n\tprovidedIn: 'root'\r\n})\r\nexport class ModalService {\r\n\r\n\tconstructor(private _modalService: BsModalService,\r\n\t\t\t\tprivate resolver: ComponentFactoryResolver,\r\n\t\t\t\tpublic modalRef: BsModalRef,\r\n\t\t\t\tprivate injector: Injector,\r\n\t\t\t\t@Inject('uiConfig') private config: UiModuleConfig) {\r\n\t}\r\n\r\n\r\n\topen(componentType: any, config?: IModalConfig): ModalTemplateComponent {\r\n\r\n\t\tthis.modalRef = this._modalService.show(ModalTemplateComponent, {class: config.class});\r\n\t\tconst content = this.modalRef.content;\r\n\r\n\t\tcontent.componentType = componentType;\r\n\t\tcontent.title = config.title || 'title';\r\n\t\tcontent.type = config.type || 'add';\r\n\t\tcontent.data = config.data || {};\r\n\t\treturn content;\r\n\t}\r\n\r\n}\r\n\r\nexport interface IModalConfig {\r\n\ttitle?: string;\r\n\ttype?: 'edit' | 'add' | any;\r\n\tdata?: any;\r\n\tclass?: 'modal-lg' | 'modal-sm';\r\n}\r\n","import {Base} from './base.class';\r\nimport {IBaseModal} from '../interfaces/modal.interface';\r\nimport {ModalService} from '../services/modal.service';\r\nimport {InjectToken} from '../decorators/inject.decorator';\r\n\r\nexport class Modal extends Base implements IBaseModal {\r\n\r\n\ttype: any;\r\n\tdata: any;\r\n\r\n\t@InjectToken(ModalService)\r\n\tmodalService: ModalService;\r\n\r\n\r\n}\r\n\r\n\r\n","import {Inject, Injectable} from '@angular/core';\r\nimport {LocalStorageConfig} from '../interfaces/config.model';\r\nimport {LOCAL_STORAGE_CONFIG_DEFAULTS} from '../config';\r\n\r\n@Injectable({\r\n  providedIn: 'root'\r\n})\r\nexport class LocalStorage {\r\n\r\n  _prefix: string;\r\n\r\n  constructor(@Inject('config') config?: LocalStorageConfig) {\r\n    if (config) {\r\n      this._prefix = config.prefix || LOCAL_STORAGE_CONFIG_DEFAULTS.prefix;\r\n    }\r\n  }\r\n\r\n  set(key: string, value: string, expiredAt?: number, prefix?: string) {\r\n\r\n    if (value !== null) {\r\n      const data = {\r\n        expire: expiredAt || 0,\r\n        data: value\r\n      };\r\n      localStorage.setItem(`${prefix || this._prefix}.${key}`, JSON.stringify(data));\r\n    }\r\n\r\n  }\r\n\r\n  getKey(index: number): string | null | undefined {\r\n    if (index < 0) {\r\n      console.error(new Error('index has to be 0 or greater'));\r\n    }\r\n    try {\r\n      return localStorage.key(index);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  has(key: string, prefix?: string): boolean {\r\n    return (`${prefix || this._prefix}.${key}` in localStorage);\r\n  }\r\n\r\n  get(key: string, prefix?: string): string | null | undefined {\r\n    try {\r\n      return localStorage.getItem(`${prefix || this._prefix}.${key}`);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  remove(key: string, prefix?: string): void {\r\n    try {\r\n      localStorage.removeItem(`${prefix || this._prefix}_${key}`);\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n  clear(): void {\r\n    try {\r\n      localStorage.clear();\r\n    } catch (error) {\r\n      console.error(error);\r\n    }\r\n  }\r\n\r\n}\r\n"],"names":["tslib_1.__extends","tslib_1.__decorate"],"mappings":"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"}